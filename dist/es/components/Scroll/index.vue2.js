import t from"../../node_modules/_@better-scroll_core@2.5.1@@better-scroll/core/dist/core.esm.js";import o from"../../node_modules/_@better-scroll_pull-up@2.5.1@@better-scroll/pull-up/dist/pull-up.esm.js";import e from"../../node_modules/_@better-scroll_observe-dom@2.5.1@@better-scroll/observe-dom/dist/observe-dom.esm.js";import s from"../../node_modules/_@better-scroll_nested-scroll@2.5.1@@better-scroll/nested-scroll/dist/nested-scroll.esm.js";import l from"../../node_modules/_@better-scroll_pull-down@2.5.1@@better-scroll/pull-down/dist/pull-down.esm.js";import r from"../../node_modules/_@better-scroll_slide@2.5.1@@better-scroll/slide/dist/slide.esm.js";import{toHump as i}from"../../utils/share.js";t.use(e).use(o).use(s).use(l).use(r);var n="horizontal",c={name:"BaseScroll",props:{direction:{type:String,default:""},data:{type:[Object,Array],default:function(){return[]}}},watch:{data:function(){setTimeout(this.refresh,20)}},methods:{initScroll:function(){var o=this.parseOptions();this.options=o,this.scroll=new t(this.$refs.scroll,o),this.proxyMethods(),this.registerListeners()},parseOptions:function(){var t={click:!0,scrollY:!0,probeType:3,pullUpLoad:this.$attrs.pullUpLoad||!1,observeDOM:!0},o=this.direction;this.direction&&(o=n?"vertical":n),t.eventPassthrough=o,Object.assign(t,this.$attrs);var e={},s="";return Object.keys(t).forEach((function(o){s=i(o),e[s]=t[o]})),e},proxyMethods:function(){for(var t in this.scroll)"function"==typeof this.scroll[t]&&(this[t]=this.scroll[t])},registerListeners:function(){var t=this,o=this.scroll.scroller.actionsHandler.hooks,e=this.options,s=e.pullDownRefresh,l=e.slide;o.on("click",(function(o){t.$emit("click",o)})),this.scroll.on("scroll",(function(o){t.$emit("scroll",o)})),this.scroll.on("scrollEnd",(function(o){t.$emit("scrollEnd",o)})),this.options.pullUpLoad&&this.scroll.on("pullingUp",(function(){t.$emit("pullingUp")})),this.scroll.on("beforeScrollStart",(function(){t.$emit("beforeScrollStart")})),this.scroll.on("scrollStart",(function(){t.$emit("scrollStart")})),s&&(this.scroll.on("pullingDown",(function(){t.$emit("pullingDown")})),this.scroll.on("enterThreshold",(function(){t.$emit("enterThreshold")})),this.scroll.on("leaveThreshold",(function(){t.$emit("leaveThreshold")}))),l&&(this.scroll.on("slideWillChange",(function(o){t.$emit("slideWillChange",o)})),this.scroll.on("slidePageChanged",(function(o){t.$emit("slidePageChanged",o)})))}},mounted:function(){this.$nextTick(this.initScroll)},destroyed:function(){this.scroll.destroy()}};export{c as default};
