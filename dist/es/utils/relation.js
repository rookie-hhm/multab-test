import{defineProperty as n,toConsumableArray as t}from"../_virtual/_rollupPluginBabelHelpers.js";import{sortChildren as i}from"./vnodes.js";function e(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).indexKey||"index";return{inject:n({},e,{default:null}),computed:n({parent:function(){return this.disableBindRelation?null:this[e]}},r,(function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null})),watch:{disableBindRelation:function(n){n||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var n=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==n})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var n=[].concat(t(this.parent.children),[this]);i(n,this.parent),this.parent.children=n}}}}}function r(t){return{provide:function(){return n({},t,this)},data:function(){return{children:[]}}}}export{e as ChildrenMixin,r as ParentMixin};
